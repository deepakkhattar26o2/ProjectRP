// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id               Int      @unique @default(autoincrement())
  name             String
  email            String   @unique
  password         String
  plan_id          Int?
  active_plan      Plan?    @relation(name: "user-plan", references: [id], fields: [plan_id])
  has_monthly_plan Boolean  @default(false)
  created_at       DateTime @default(now())
}

model Plan {
  id                       Int    @unique @default(autoincrement())
  name                     String @unique
  monthly_price            Int
  yearly_price             Int
  video_quality            String
  resolution               String
  devices                  String
  number_of_active_screens Int
  subscribers              User[] @relation(name: "user-plan")
}
